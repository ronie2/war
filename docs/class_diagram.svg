<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="712px" preserveAspectRatio="none" style="width:1407px;height:712px;" version="1.1" viewBox="0 0 1407 712" width="1407px" zoomAndPan="magnify"><defs><filter height="300%" id="fnium1z" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#fnium1z)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="1192.5" y="530.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="1199.5" y="543.6387">get_transaction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1193.5" x2="1304.5" y1="548.4688" y2="548.4688"/><rect fill="#FEFECE" filter="url(#fnium1z)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="1239.5" y="193"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="145" x="1246.5" y="206.1387">transaction._buy_plane</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1240.5" x2="1397.5" y1="210.9688" y2="210.9688"/><rect fill="#FEFECE" filter="url(#fnium1z)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="1056" y="193"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="134" x="1063" y="206.1387">transaction._buy_gun</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1057" x2="1203" y1="210.9688" y2="210.9688"/><rect fill="#FEFECE" filter="url(#fnium1z)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="972.5" y="670"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="979.5" y="683.1387">buyer.get_hangar</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="973.5" x2="1096.5" y1="687.9688" y2="687.9688"/><rect fill="#FEFECE" filter="url(#fnium1z)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="540.5" y="530.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="547.5" y="543.6387">buyer.get_buyer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="541.5" x2="654.5" y1="548.4688" y2="548.4688"/><rect fill="#FEFECE" filter="url(#fnium1z)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="785.5" y="670"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="117" x="792.5" y="683.1387">buyer.get_account</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="786.5" x2="915.5" y1="687.9688" y2="687.9688"/><rect fill="#FEFECE" filter="url(#fnium1z)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="171" y="193"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="134" x="178" y="206.1387">validator._player_msg</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="172" x2="318" y1="210.9688" y2="210.9688"/><rect fill="#FEFECE" filter="url(#fnium1z)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="177" x="354.5" y="193"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="163" x="361.5" y="206.1387">validator._equipment_msg</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="355.5" x2="530.5" y1="210.9688" y2="210.9688"/><rect fill="#FEFECE" filter="url(#fnium1z)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="566.5" y="193"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="127" x="573.5" y="206.1387">validator._buy_plane</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="567.5" x2="706.5" y1="210.9688" y2="210.9688"/><rect fill="#FEFECE" filter="url(#fnium1z)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="6" y="193"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="116" x="13" y="206.1387">validator._buy_gun</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="135" y1="210.9688" y2="210.9688"/><rect fill="#FEFECE" filter="url(#fnium1z)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="352.5" y="530.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="359.5" y="543.6387">validator.get_validator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="353.5" x2="504.5" y1="548.4688" y2="548.4688"/><!--class Shop--><rect fill="#FEFECE" filter="url(#fnium1z)" height="86.4141" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="824" y="8"/><ellipse cx="851.6" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M853.9438,19.6719 L854.1156,19.75 C854.3344,19.4375 854.5375,19.3438 854.8344,19.3438 C855.1313,19.3438 855.4125,19.4844 855.5688,19.75 C855.6625,19.9063 855.6781,20.0313 855.6781,20.4688 L855.6781,21.8906 C855.6781,22.3125 855.6469,22.5 855.5375,22.6563 C855.3656,22.875 855.1,23.0156 854.8344,23.0156 C854.6156,23.0156 854.3813,22.9063 854.2406,22.7656 C854.1,22.6406 854.0688,22.5156 854.0063,22.1094 C853.9125,21.7031 853.7406,21.4844 853.2563,21.2031 C852.7875,20.9531 852.1781,20.7969 851.6,20.7969 C849.8656,20.7969 848.6156,22.1094 848.6156,23.8906 L848.6156,24.9844 C848.6156,26.6875 849.9125,27.7813 851.9594,27.7813 C852.725,27.7813 853.4125,27.6563 853.8344,27.3906 C854.0219,27.2969 854.0219,27.2969 854.475,26.8125 C854.6625,26.625 854.8656,26.5469 855.0844,26.5469 C855.5531,26.5469 855.9438,26.9375 855.9438,27.3906 C855.9438,27.7813 855.6156,28.2344 855.0375,28.6406 C854.2875,29.1875 853.1313,29.4844 851.9125,29.4844 C849.0219,29.4844 846.9125,27.5938 846.9125,25.0156 L846.9125,23.8906 C846.9125,21.1719 848.9125,19.0938 851.5375,19.0938 C852.4125,19.0938 853.0063,19.2344 853.9438,19.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="868.4" y="28.1543">Shop</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="825" x2="915" y1="40" y2="40"/><ellipse cx="835" cy="51.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="844" y="54.2104">db</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="825" x2="915" y1="60.8047" y2="60.8047"/><ellipse cx="835" cy="72.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="844" y="75.0151">buy_plane()</text><ellipse cx="835" cy="85.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="844" y="87.8198">buy_gun()</text><!--class WarPlanesShop--><rect fill="#FEFECE" filter="url(#fnium1z)" height="112.0234" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="794" y="154"/><ellipse cx="818.9" cy="170" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M821.2438,165.6719 L821.4156,165.75 C821.6344,165.4375 821.8375,165.3438 822.1344,165.3438 C822.4313,165.3438 822.7125,165.4844 822.8688,165.75 C822.9625,165.9063 822.9781,166.0313 822.9781,166.4688 L822.9781,167.8906 C822.9781,168.3125 822.9469,168.5 822.8375,168.6563 C822.6656,168.875 822.4,169.0156 822.1344,169.0156 C821.9156,169.0156 821.6813,168.9063 821.5406,168.7656 C821.4,168.6406 821.3688,168.5156 821.3063,168.1094 C821.2125,167.7031 821.0406,167.4844 820.5563,167.2031 C820.0875,166.9531 819.4781,166.7969 818.9,166.7969 C817.1656,166.7969 815.9156,168.1094 815.9156,169.8906 L815.9156,170.9844 C815.9156,172.6875 817.2125,173.7813 819.2594,173.7813 C820.025,173.7813 820.7125,173.6563 821.1344,173.3906 C821.3219,173.2969 821.3219,173.2969 821.775,172.8125 C821.9625,172.625 822.1656,172.5469 822.3844,172.5469 C822.8531,172.5469 823.2438,172.9375 823.2438,173.3906 C823.2438,173.7813 822.9156,174.2344 822.3375,174.6406 C821.5875,175.1875 820.4313,175.4844 819.2125,175.4844 C816.3219,175.4844 814.2125,173.5938 814.2125,171.0156 L814.2125,169.8906 C814.2125,167.1719 816.2125,165.0938 818.8375,165.0938 C819.7125,165.0938 820.3063,165.2344 821.2438,165.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="835.1" y="174.1543">WarPlanesShop</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="795" x2="945" y1="186" y2="186"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="795" x2="945" y1="194" y2="194"/><ellipse cx="805" cy="205.9023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="814" y="208.2104">buy_plane()</text><ellipse cx="805" cy="218.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="814" y="221.0151">buy_gun()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="802" y="228.5117"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="814" y="233.8198">_product_spec_by_id()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="802" y="241.3164"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="814" y="246.6245">_product_price_by_id()</text><polygon fill="#FFFF44" points="805,252.1211,809,256.1211,805,260.1211,801,256.1211" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="814" y="259.4292">__compatible_guns()</text><!--class Buyer--><rect fill="#FEFECE" filter="url(#fnium1z)" height="86.4141" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="848" y="332.5"/><ellipse cx="864.35" cy="348.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M866.6938,344.1719 L866.8656,344.25 C867.0844,343.9375 867.2875,343.8438 867.5844,343.8438 C867.8813,343.8438 868.1625,343.9844 868.3188,344.25 C868.4125,344.4063 868.4281,344.5313 868.4281,344.9688 L868.4281,346.3906 C868.4281,346.8125 868.3969,347 868.2875,347.1563 C868.1156,347.375 867.85,347.5156 867.5844,347.5156 C867.3656,347.5156 867.1313,347.4063 866.9906,347.2656 C866.85,347.1406 866.8188,347.0156 866.7563,346.6094 C866.6625,346.2031 866.4906,345.9844 866.0063,345.7031 C865.5375,345.4531 864.9281,345.2969 864.35,345.2969 C862.6156,345.2969 861.3656,346.6094 861.3656,348.3906 L861.3656,349.4844 C861.3656,351.1875 862.6625,352.2813 864.7094,352.2813 C865.475,352.2813 866.1625,352.1563 866.5844,351.8906 C866.7719,351.7969 866.7719,351.7969 867.225,351.3125 C867.4125,351.125 867.6156,351.0469 867.8344,351.0469 C868.3031,351.0469 868.6938,351.4375 868.6938,351.8906 C868.6938,352.2813 868.3656,352.7344 867.7875,353.1406 C867.0375,353.6875 865.8813,353.9844 864.6625,353.9844 C861.7719,353.9844 859.6625,352.0938 859.6625,349.5156 L859.6625,348.3906 C859.6625,345.6719 861.6625,343.5938 864.2875,343.5938 C865.1625,343.5938 865.7563,343.7344 866.6938,344.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="35" x="878.65" y="352.6543">Buyer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="849" x2="917" y1="364.5" y2="364.5"/><ellipse cx="859" cy="376.4023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="10" x="868" y="378.7104">id</text><ellipse cx="859" cy="389.207" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="868" y="391.5151">account</text><ellipse cx="859" cy="402.0117" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="868" y="404.3198">hangar</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="849" x2="917" y1="410.9141" y2="410.9141"/><!--class Account--><rect fill="#FEFECE" filter="url(#fnium1z)" height="99.2188" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="691" y="498"/><ellipse cx="743.25" cy="514" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M745.5938,509.6719 L745.7656,509.75 C745.9844,509.4375 746.1875,509.3438 746.4844,509.3438 C746.7813,509.3438 747.0625,509.4844 747.2188,509.75 C747.3125,509.9063 747.3281,510.0313 747.3281,510.4688 L747.3281,511.8906 C747.3281,512.3125 747.2969,512.5 747.1875,512.6563 C747.0156,512.875 746.75,513.0156 746.4844,513.0156 C746.2656,513.0156 746.0313,512.9063 745.8906,512.7656 C745.75,512.6406 745.7188,512.5156 745.6563,512.1094 C745.5625,511.7031 745.3906,511.4844 744.9063,511.2031 C744.4375,510.9531 743.8281,510.7969 743.25,510.7969 C741.5156,510.7969 740.2656,512.1094 740.2656,513.8906 L740.2656,514.9844 C740.2656,516.6875 741.5625,517.7813 743.6094,517.7813 C744.375,517.7813 745.0625,517.6563 745.4844,517.3906 C745.6719,517.2969 745.6719,517.2969 746.125,516.8125 C746.3125,516.625 746.5156,516.5469 746.7344,516.5469 C747.2031,516.5469 747.5938,516.9375 747.5938,517.3906 C747.5938,517.7813 747.2656,518.2344 746.6875,518.6406 C745.9375,519.1875 744.7813,519.4844 743.5625,519.4844 C740.6719,519.4844 738.5625,517.5938 738.5625,515.0156 L738.5625,513.8906 C738.5625,511.1719 740.5625,509.0938 743.1875,509.0938 C744.0625,509.0938 744.6563,509.2344 745.5938,509.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="763.75" y="518.1543">Account</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="692" x2="854" y1="530" y2="530"/><ellipse cx="702" cy="541.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="711" y="544.2104">account</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="692" x2="854" y1="550.8047" y2="550.8047"/><ellipse cx="702" cy="562.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="711" y="565.0151">decrease()</text><ellipse cx="702" cy="575.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="711" y="577.8198">has_enought_resource()</text><ellipse cx="702" cy="588.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="711" y="590.6245">as_dict()</text><!--class Validator--><rect fill="#FEFECE" filter="url(#fnium1z)" height="99.2188" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="366.5" y="326"/><ellipse cx="404.45" cy="342" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M406.7938,337.6719 L406.9656,337.75 C407.1844,337.4375 407.3875,337.3438 407.6844,337.3438 C407.9813,337.3438 408.2625,337.4844 408.4188,337.75 C408.5125,337.9063 408.5281,338.0313 408.5281,338.4688 L408.5281,339.8906 C408.5281,340.3125 408.4969,340.5 408.3875,340.6563 C408.2156,340.875 407.95,341.0156 407.6844,341.0156 C407.4656,341.0156 407.2313,340.9063 407.0906,340.7656 C406.95,340.6406 406.9188,340.5156 406.8563,340.1094 C406.7625,339.7031 406.5906,339.4844 406.1063,339.2031 C405.6375,338.9531 405.0281,338.7969 404.45,338.7969 C402.7156,338.7969 401.4656,340.1094 401.4656,341.8906 L401.4656,342.9844 C401.4656,344.6875 402.7625,345.7813 404.8094,345.7813 C405.575,345.7813 406.2625,345.6563 406.6844,345.3906 C406.8719,345.2969 406.8719,345.2969 407.325,344.8125 C407.5125,344.625 407.7156,344.5469 407.9344,344.5469 C408.4031,344.5469 408.7938,344.9375 408.7938,345.3906 C408.7938,345.7813 408.4656,346.2344 407.8875,346.6406 C407.1375,347.1875 405.9813,347.4844 404.7625,347.4844 C401.8719,347.4844 399.7625,345.5938 399.7625,343.0156 L399.7625,341.8906 C399.7625,339.1719 401.7625,337.0938 404.3875,337.0938 C405.2625,337.0938 405.8563,337.2344 406.7938,337.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="423.55" y="346.1543">Validator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="367.5" x2="504.5" y1="358" y2="358"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="374.5" y="366.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="386.5" y="372.2104">_validation_strategy</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="374.5" y="379.707"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="386.5" y="385.0151">args</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="374.5" y="392.5117"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="386.5" y="397.8198">kwargs</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="367.5" x2="504.5" y1="404.4141" y2="404.4141"/><ellipse cx="377.5" cy="416.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="386.5" y="418.6245">validate()</text><!--class Hangar--><rect fill="#FEFECE" filter="url(#fnium1z)" height="124.8281" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="1032.5" y="485"/><ellipse cx="1068.65" cy="501" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1070.9938,496.6719 L1071.1656,496.75 C1071.3844,496.4375 1071.5875,496.3438 1071.8844,496.3438 C1072.1813,496.3438 1072.4625,496.4844 1072.6188,496.75 C1072.7125,496.9063 1072.7281,497.0313 1072.7281,497.4688 L1072.7281,498.8906 C1072.7281,499.3125 1072.6969,499.5 1072.5875,499.6563 C1072.4156,499.875 1072.15,500.0156 1071.8844,500.0156 C1071.6656,500.0156 1071.4313,499.9063 1071.2906,499.7656 C1071.15,499.6406 1071.1188,499.5156 1071.0563,499.1094 C1070.9625,498.7031 1070.7906,498.4844 1070.3063,498.2031 C1069.8375,497.9531 1069.2281,497.7969 1068.65,497.7969 C1066.9156,497.7969 1065.6656,499.1094 1065.6656,500.8906 L1065.6656,501.9844 C1065.6656,503.6875 1066.9625,504.7813 1069.0094,504.7813 C1069.775,504.7813 1070.4625,504.6563 1070.8844,504.3906 C1071.0719,504.2969 1071.0719,504.2969 1071.525,503.8125 C1071.7125,503.625 1071.9156,503.5469 1072.1344,503.5469 C1072.6031,503.5469 1072.9938,503.9375 1072.9938,504.3906 C1072.9938,504.7813 1072.6656,505.2344 1072.0875,505.6406 C1071.3375,506.1875 1070.1813,506.4844 1068.9625,506.4844 C1066.0719,506.4844 1063.9625,504.5938 1063.9625,502.0156 L1063.9625,500.8906 C1063.9625,498.1719 1065.9625,496.0938 1068.5875,496.0938 C1069.4625,496.0938 1070.0563,496.2344 1070.9938,496.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="46" x="1087.35" y="505.1543">Hangar</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1033.5" x2="1156.5" y1="517" y2="517"/><ellipse cx="1043.5" cy="528.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="1052.5" y="531.2104">planes</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1033.5" x2="1156.5" y1="537.8047" y2="537.8047"/><ellipse cx="1043.5" cy="549.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="1052.5" y="552.0151">add_plane()</text><ellipse cx="1043.5" cy="562.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="1052.5" y="564.8198">has_plane()</text><ellipse cx="1043.5" cy="575.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="1052.5" y="577.6245">current_weapon()</text><ellipse cx="1043.5" cy="588.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="1052.5" y="590.4292">set_weapon()</text><ellipse cx="1043.5" cy="600.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="1052.5" y="603.2339">as_dict()</text><!--class Transaction--><rect fill="#FEFECE" filter="url(#fnium1z)" height="86.4141" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="1117.5" y="332.5"/><ellipse cx="1151.85" cy="348.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1154.1938,344.1719 L1154.3656,344.25 C1154.5844,343.9375 1154.7875,343.8438 1155.0844,343.8438 C1155.3813,343.8438 1155.6625,343.9844 1155.8188,344.25 C1155.9125,344.4063 1155.9281,344.5313 1155.9281,344.9688 L1155.9281,346.3906 C1155.9281,346.8125 1155.8969,347 1155.7875,347.1563 C1155.6156,347.375 1155.35,347.5156 1155.0844,347.5156 C1154.8656,347.5156 1154.6313,347.4063 1154.4906,347.2656 C1154.35,347.1406 1154.3188,347.0156 1154.2563,346.6094 C1154.1625,346.2031 1153.9906,345.9844 1153.5063,345.7031 C1153.0375,345.4531 1152.4281,345.2969 1151.85,345.2969 C1150.1156,345.2969 1148.8656,346.6094 1148.8656,348.3906 L1148.8656,349.4844 C1148.8656,351.1875 1150.1625,352.2813 1152.2094,352.2813 C1152.975,352.2813 1153.6625,352.1563 1154.0844,351.8906 C1154.2719,351.7969 1154.2719,351.7969 1154.725,351.3125 C1154.9125,351.125 1155.1156,351.0469 1155.3344,351.0469 C1155.8031,351.0469 1156.1938,351.4375 1156.1938,351.8906 C1156.1938,352.2813 1155.8656,352.7344 1155.2875,353.1406 C1154.5375,353.6875 1153.3813,353.9844 1152.1625,353.9844 C1149.2719,353.9844 1147.1625,352.0938 1147.1625,349.5156 L1147.1625,348.3906 C1147.1625,345.6719 1149.1625,343.5938 1151.7875,343.5938 C1152.6625,343.5938 1153.2563,343.7344 1154.1938,344.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="1170.15" y="352.6543">Transaction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1118.5" x2="1265.5" y1="364.5" y2="364.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1125.5" y="373.4023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="1137.5" y="378.7104">_transaction_strategy</text><ellipse cx="1128.5" cy="389.207" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="1137.5" y="391.5151">transaction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1118.5" x2="1265.5" y1="398.1094" y2="398.1094"/><ellipse cx="1128.5" cy="410.0117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="1137.5" y="412.3198">commit()</text><path d="M870,114.448 C870,127.456 870,141.079 870,153.803 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="863,114.073,870,94.073,877,114.073,863,114.073" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M803.265,601.852 C817.004,626.0718 832.268,652.9786 841.751,669.6955 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="800.72,597.365,801.6807,607.1669,803.1867,601.7142,808.6394,603.2202,800.72,597.365" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1066.13,614.6682 C1057.15,635.2318 1048.05,656.1038 1042.02,669.9115 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1068.16,610.011,1060.8883,616.6535,1066.1561,614.5919,1068.2178,619.8597,1068.16,610.011" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1207.83,423.7 C1219.78,459.365 1235.48,506.181 1243.61,530.411 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1206.09,418.522,1205.1555,428.3264,1207.678,423.2631,1212.7413,425.7856,1206.09,418.522" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M433.787,430.247 C432.366,464.765 430.615,507.272 429.675,530.118 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="433.994,425.215,429.6271,434.0428,433.7883,430.2108,437.6203,434.372,433.994,425.215" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M843.177,394.231 C800.114,414.069 730.106,448.274 674,485 C652.982,498.758 630.865,517.163 615.944,530.244 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="847.775,392.12,837.9269,392.2389,843.2308,394.2057,841.264,399.5096,847.775,392.12" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M884.202,418.566 C884.851,465.556 883.85,543.73 873,610 C869.889,628.9991 863.59,649.975 858.527,665.0684 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="856.863,669.9501,863.5521,662.7212,858.4757,665.2173,855.9796,660.1409,856.863,669.9501" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M903.658,418.563 C936.684,485.811 1000.164,615.0678 1024.84,665.3115 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1027.1,669.9224,1026.721,660.0808,1024.895,665.4349,1019.5409,663.6089,1027.1,669.9224" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M848.655,429.579 C836.927,447.703 823.733,468.094 811.687,486.71 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="804.554,497.735,812.8013,492.3515,807.2701,493.537,806.0845,488.0058,804.554,497.735" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="807.2701" x2="811.616" y1="493.537" y2="486.8205"/><polygon fill="#FFFFFF" points="855.809,418.522,849.1911,421.3861,849.2895,428.5966,855.9075,425.7324,855.809,418.522" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M928.265,412.797 C955.443,434.591 990.66,462.832 1021.72,487.739 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1032.08,496.044,1027.5591,487.2941,1028.1786,492.9169,1022.5557,493.5364,1032.08,496.044" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1028.1786" x2="1021.935" y1="492.9169" y2="487.9115"/><polygon fill="#FFFFFF" points="918.007,404.572,920.1853,411.4462,927.3685,412.0794,925.1902,405.2052,918.007,404.572" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M825.389,266.025 C763.674,342.149 655.226,475.914 614.274,526.427 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="610.983,530.486,619.7577,526.0132,614.1315,526.6018,613.5429,520.9757,610.983,530.486" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M927.042,266.309 C972.932,310.255 1039.51,372.792 1100,425 C1132.32,452.892 1141.92,458.023 1175,485 C1192.16,498.992 1211.39,514.98 1225.94,527.148 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1229.92,530.473,1225.5732,521.6353,1226.0812,527.2693,1220.4472,527.7773,1229.92,530.473" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M793.725,257.739 C761.991,277.904 725.133,302.274 693,326 C599.034,395.382 494.542,487.463 450.463,527.053 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="446.639,530.493,456.005,527.4471,450.356,527.1488,450.6543,521.4998,446.639,530.493" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M875.449,279.527 C876.496,292.702 877.581,306.349 878.591,319.047 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="879.652,332.388,882.9254,323.099,879.2553,327.4038,874.9506,323.7337,879.652,332.388" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="879.2553" x2="878.621" y1="327.4038" y2="319.429"/><polygon fill="#FFFFFF" points="874.401,266.354,870.889,272.6521,875.3518,278.3163,878.8638,272.0182,874.401,266.354" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M958.077,255.722 C1004.013,279.047 1059.99,307.47 1105.67,330.664 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1117.35,336.595,1111.1362,328.9537,1112.8918,334.3313,1107.5143,336.0869,1117.35,336.595" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1112.8918" x2="1105.76" y1="334.3313" y2="330.709"/><polygon fill="#FFFFFF" points="946.31,249.747,949.8489,256.03,957.0097,255.1799,953.4708,248.8969,946.31,249.747" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M781.401,245.096 C762.808,252.114 743.291,259.379 725,266 C648.082,293.842 627.396,296.756 551,326 C540.267,330.109 529.045,334.596 517.997,339.13 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="505.633,344.251,515.4786,344.5027,510.2525,342.3377,512.4174,337.1115,505.633,344.251" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="510.2525" x2="517.644" y1="342.3377" y2="339.2765"/><polygon fill="#FFFFFF" points="793.781,240.41,786.7534,238.7934,782.5583,244.6586,789.5858,246.2752,793.781,240.41" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1298.25,237.714 C1280.56,260.489 1254.6,293.905 1232.77,322.007 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1224.64,332.484,1231.4808,330.2028,1232.0061,323.0108,1225.1653,325.2921,1224.64,332.484" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1306.36,227.275,1297.6808,231.9303,1303.2935,231.2242,1303.9996,236.8368,1306.36,227.275" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1303.2935" x2="1298.385" y1="231.2242" y2="237.5415"/><path d="M1140.79,239.462 C1149.2,261.641 1161.13,293.092 1171.36,320.062 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1176.07,332.484,1177.6835,325.4557,1171.8164,321.2632,1170.2029,328.2915,1176.07,332.484" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1136.17,227.275,1135.6199,237.1085,1137.9423,231.9503,1143.1005,234.2727,1136.17,227.275" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1137.9423" x2="1140.785" y1="231.9503" y2="239.43"/><path d="M274.255,236.043 C299.465,257.623 336.815,289.595 369.273,317.38 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="379.17,325.853,377.2133,318.9124,370.0541,318.0492,372.0108,324.9897,379.17,325.853" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="264.012,227.275,268.2477,236.1665,267.8103,230.5266,273.4502,230.0892,264.012,227.275" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="267.8103" x2="273.888" y1="230.5266" y2="235.7285"/><path d="M441.747,240.274 C440.885,260.409 439.708,287.901 438.643,312.762 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="438.083,325.853,442.3358,320.0295,438.5959,313.864,434.3431,319.6875,438.083,325.853" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="442.303,227.275,437.921,236.0953,442.0887,232.2704,445.9136,236.4382,442.303,227.275" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="442.0887" x2="441.747" y1="232.2704" y2="240.263"/><path d="M606.601,235.728 C580.079,257.301 540.581,289.43 506.267,317.342 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="495.805,325.853,502.9837,325.1699,505.1141,318.2807,497.9355,318.9638,495.805,325.853" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="616.993,227.275,607.4871,229.8513,613.1142,230.4302,612.5354,236.0574,616.993,227.275" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="613.1142" x2="606.9075" y1="230.4302" y2="235.478"/><path d="M102.7059,234.702 C117.509,245.122 135.66,257.006 153,266 C218.167,299.799 296.355,328.983 354.018,348.544 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="366.366,352.692,361.9523,346.9895,354.9908,348.8704,359.4045,354.5729,366.366,352.692" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="92.1067,227.091,97.0844,235.5894,96.1682,230.0072,101.7503,229.091,92.1067,227.091" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="96.1682" x2="102.6665" y1="230.0072" y2="234.674"/><!--
@startuml
object get_transaction
object transaction._buy_plane
object transaction._buy_gun

object buyer.get_hangar
object buyer.get_buyer
object buyer.get_account

object validator._player_msg
object validator._equipment_msg
object validator._buy_plane
object validator._buy_gun
object validator.get_validator

class Shop {
+ db
{abstract} + buy_plane()
{abstract} + buy_gun()
}
class WarPlanesShop {
+ buy_plane()
+ buy_gun()
- _product_spec_by_id()
- _product_price_by_id()
# __compatible_guns()
}
class Buyer {
+ id
+ account
+ hangar
}
class Account {
+ account
+ decrease()
+ has_enought_resource()
+ as_dict()
}
class Validator {
- _validation_strategy
- args
- kwargs
+ validate()
}
class Hangar {
+ planes
+ add_plane()
+ has_plane()
+ current_weapon()
+ set_weapon()
+ as_dict()
}
class Transaction {
- _transaction_strategy
+ transaction
+ commit()
}

Shop <|- - WarPlanesShop
Account <.. buyer.get_account
Hangar <.. buyer.get_hangar
Transaction <.. get_transaction
Validator <.. validator.get_validator
Buyer <.. buyer.get_buyer
Buyer ..> buyer.get_account
Buyer ..> buyer.get_hangar
Buyer o- -> Account
Buyer o- -> Hangar
WarPlanesShop ..> buyer.get_buyer
WarPlanesShop ..> get_transaction
WarPlanesShop ..> validator.get_validator
WarPlanesShop o- -> Buyer
WarPlanesShop o- -> Transaction
WarPlanesShop o- -> Validator
transaction._buy_plane <- -o Transaction
transaction._buy_gun <- -o Transaction

validator._player_msg <- -o Validator
validator._equipment_msg <- -o Validator
validator._buy_plane <- -o Validator
validator._buy_gun <- -o Validator
@enduml

PlantUML version 2017.09(Wed Apr 05 16:07:11 UTC 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>